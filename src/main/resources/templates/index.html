<!DOCTYPE html>
<html lang="UTF-8">

  <!-- head -->
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <title>main</title>
  </head>

  <!-- body -->
  <body class="p-0 m-0">
  <!-- Header-->
    <header class="bg-primary bg-gradient text-white">
      <div class="container px-4 py-5 text-center">
        <h1 class="fw-bolder mb-4">oEmbed Test</h1>
        <form action="http://localhost:8080/oembed" method="get">
          <div class="row justify-content-md-center">
            <div class="col-5">
              <input id="text_input" name="paramUrl" type="text" class="form-control" placeholder="https://vimeo.com/20097015" aria-label="url" th:value="${paramUrl}">
            </div>
            <div class="col-1">
              <button type="submit" class="btn btn-lg btn-light">확인</button>
            </div>
          </div>
        </form>
      </div>
    </header>

    <div class="m-0 p-5 bg-light">
      <th:block data-th-if="${error}">
        <div class="alert alert-danger" role="alert" th:text="${error}"></div>
      </th:block>

      <div class="p-3 bg-white shadow rounded">
        <table class="table table-striped">
          <tbody>
          <tr th:each="entry : ${resultMap}">
            <td><p th:text="${entry.key}"></p></td>
            <td>
              <p th:text="${entry.value}"></p>
              <img th:if="${entry.key == 'thumbnail_url'}" th:src="${resultMap['thumbnail_url']}">
              <th:block data-th-if="${entry.key == 'html'}" data-th-utext="${entry.value}"></th:block>
            </td>
          </tr>
          </tbody>
        </table>
      </div>

    </div>
  </body>
</html>